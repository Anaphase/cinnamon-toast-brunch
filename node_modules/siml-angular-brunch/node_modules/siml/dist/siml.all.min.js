/** SIML v0.3.6 (c) 2013 James padolsey, MIT-licensed, http://github.com/padolsey/SIML **/
(function(){var l="undefined"!=typeof module&&module.exports?module.exports:window.siml={};(function(){"use strict";function n(l){return"[object Array]"==={}.toString.call(l)}function t(l){return(l+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;")}function e(l){return(l+"").replace(/^\s\s*|\s\s*$/g,"")}function u(l){for(var t=[],e=0,r=l.length;r>e;++e)t[e]=n(l[e])?u(l[e]):l[e];return t}function r(l,n){for(var t in l)n.hasOwnProperty(t)||(n[t]=l[t]);return n}function o(l,n){return function(t,e,u,r){this.parentElement=u,this.indentation=r,t=[].slice.call(t);var o=t[0],s=t[1],f=t[2];f&&s.unshift(f),s.unshift(o);var i=e[l][o]||n[o];if(i||(i=e[l]._default||n._default),!i)throw Error("SIML: No fallback for"+t.join());this.type=i.type,this.html=i.make.apply(this,s)||""}}function s(l,n,t,e){this.spec=l,this.config=n||{},this.parentElement=t||this,this.indentation=e||"",this.defaultIndentation=n.indent,this.tag=null,this.id=null,this.attrs=[],this.classes=[],this.pseudos=[],this.prototypes=v(t&&t.prototypes||null),this.isSingular=!1,this.multiplier=1,this.isPretty=n.pretty,this.htmlOutput=[],this.htmlContent=[],this.htmlAttributes=[],this.selector=l[0],this.make(),this.processChildren(l[1]),this.collectOutput(),this.html=this.htmlOutput.join("")}function f(){s.apply(this,arguments)}function i(l){this.config=r(this.defaultConfig,l)}var c=[].push,a=[].unshift,h="div",p="  ",m={input:1,img:1,meta:1,link:1,br:1,hr:1,source:1,area:1,base:1,col:1},A={_fillHTML:{type:"CONTENT",make:function(l,n,t){return t}},_default:{type:"CONTENT",make:function(l){throw Error("SIML: Directive not resolvable: "+l)}}},d={_default:{type:"ATTR",make:function(l,n){return null==n?l:l+'="'+n+'"'}},text:{type:"CONTENT",make:function(l,n){return n}}},g={_default:{type:"ATTR",make:function(l){return"input"===this.parentElement.tag?'type="'+l+'"':(console.warn("Unknown pseudo class used:",l),void 0)}}},v=Object.create||function(l){function n(){}return n.prototype=l,new n};s.prototype={make:function(){var l,n,t={},e=this.selector.slice();this.augmentPrototypeSelector(e);for(var u=0,r=e.length;r>u;++u)switch(l=e[u][0],n=e[u][1],l){case"Tag":this.tag||(this.tag=n);break;case"Id":this.id=n;break;case"Attr":var o=n[0],s=[o,[n[1]]];null!=t[o]?this.attrs[t[o]]=s:t[o]=this.attrs.push(s)-1;break;case"Class":this.classes.push(n);break;case"Pseudo":this.pseudos.push(n)}this.tag=this.config.toTag.call(this,this.tag||h),this.isSingular=this.tag in m,this.id&&this.htmlAttributes.push('id="'+this.id+'"'),this.classes.length&&this.htmlAttributes.push('class="'+this.classes.join(" ").replace(/(^| )\./g,"$1")+'"');for(var u=0,r=this.attrs.length;r>u;++u)this.processProperty("Attribute",this.attrs[u]);for(var u=0,r=this.pseudos.length;r>u;++u){var f=this.pseudos[u];isNaN(f[0])?this.processProperty("Pseudo",f):this.multiplier=f[0]}},collectOutput:function(){var l=this.indentation,n=this.isPretty,t=this.htmlOutput,e=this.htmlAttributes,u=this.htmlContent;if(t.push(l+"<"+this.tag),t.push(e.length?" "+e.join(" "):""),this.isSingular?t.push("/>"):(t.push(">"),u.length&&(n&&t.push("\n"),t.push(u.join(n?"\n":"")),n&&t.push("\n"+l)),t.push("</"+this.tag+">")),this.multiplier>1)for(var r=t.join(""),o=this.multiplier-1;o--;)t.push(n?"\n":""),t.push(r)},_makeExclusiveBranches:function(l,n,t){function e(l,n,t){var o=l[0],s=r(l),f=n[0],i=n[1],a=n[2],t=t||{child:!1,selector:!1};if(t.child&&t.selector)return t;if(s)for(var h=s.length;h-->0;){var p=s[h];if("ExcGroup"===p[0]&&p[2][0]&&(p=p[2][0]),"sibling"===a){var m=r(p);if(!m||!m.length){if(s[h]=["IncGroup",[p,u(f)]],t.child=!0,"IncGroup"===o)break;continue}}if(t=e(p,n,{child:!1,selector:!1}),"IncGroup"===o&&t.child)break}return t.selector||"Element"===l[0]&&(i&&c.apply(l[1][0],i),t.selector=!0),t.child||s&&(f&&s.push(u(f)),t.child=!0),t}function r(l){return"Element"===l[0]?l[1][1]:"ExcGroup"===l[0]||"IncGroup"===l[0]?l[1]:null}var o=l[2],s=l[1],f=[];e(l,o);for(var i=0,a=s.length;a>i;++i){n[t]=s[i];var h=u(this.spec);n[t]=l,f.push(h)}return f},processChildren:function(l){var n,t,e=l.length,u=[];for(n=0;e>n;++n)"ExcGroup"===l[n][0]&&c.apply(u,this._makeExclusiveBranches(l[n],l,n));if(u.length){this.collectOutput=function(){};for(var r=[],o=0,i=u.length;i>o;++o){var a=u[o];r.push(new("RootElement"===a[0]?f:s)(a,this.config,this.parentElement,this.indentation).html)}this.htmlOutput.push(r.join(this.isPretty?"\n":""))}else for(n=0;e>n;++n){var h=l[n][1],t=l[n][0];switch(t){case"Element":this.processElement(h);break;case"Prototype":this.prototypes[h[0]]=this.augmentPrototypeSelector(h[1]);break;case"IncGroup":this.processIncGroup(h);break;case"ExcGroup":throw Error("SIML: Found ExcGroup in unexpected location");default:this.processProperty(t,h)}}},processElement:function(l){this.htmlContent.push(new i.Element(l,this.config,this,this.indentation+this.defaultIndentation).html)},processIncGroup:function(l){this.processChildren(l)},processProperty:function(l,n){var t=new i.properties[l](n,this.config,this,this.indentation+this.defaultIndentation);if(t.html)switch(t.type){case"ATTR":t.html&&this.htmlAttributes.push(t.html);break;case"CONTENT":t.html&&this.htmlContent.push(this.indentation+this.defaultIndentation+t.html)}},augmentPrototypeSelector:function(l){return"Tag"!==l[0][0]?l:(a.apply(l,this.prototypes[l[0][1]]||[]),l)}},f.prototype=v(s.prototype),f.prototype.make=function(){},f.prototype.collectOutput=function(){this.htmlOutput=[this.htmlContent.join(this.isPretty?"\n":"")]},f.prototype.processChildren=function(){return this.defaultIndentation="",s.prototype.processChildren.apply(this,arguments)},i.escapeHTML=t,i.trim=e,i.isArray=n,i.Element=s,i.RootElement=f,i.properties={Attribute:o("attributes",d),Directive:o("directives",A),Pseudo:o("pseudos",g)},i.prototype={defaultConfig:{pretty:!0,curly:!1,indent:p,directives:{},attributes:{},pseudos:{},toTag:function(l){return l}},parse:function(n,t){if(t=r(this.config,t||{}),t.pretty||(t.indent=""),/^[\s\n\r]+$/.test(n))n=[];else{t.curly&&(n+="\n/*siml:curly=true*/");try{n=l.PARSER.parse(n)}catch(e){throw void 0!==e.line&&void 0!==e.column?new SyntaxError("SIML: Line "+e.line+", column "+e.column+": "+e.message):new SyntaxError("SIML: "+e.message)}}return"Element"===n[0]?new i.Element(n[1],t).html:new i.RootElement(["RootElement",[["IncGroup",[n]]]],t).html}},l.Generator=i,l.defaultGenerator=new i({pretty:!0,indent:p}),l.parse=function(n,t){return l.defaultGenerator.parse(n,t)}})(),function(){var n=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","data","datalist","dd","del","details","dfn","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","menu","meta","meter","nav","nobr","noframes","noscript","object","ol","optgroup","option","output","p","param","plaintext","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"],t={button:1,checkbox:1,color:1,date:1,datetime:1,"datetime-local":1,email:1,file:1,hidden:1,image:1,month:1,number:1,password:1,radio:1,range:1,reset:1,search:1,submit:1,tel:1,text:1,time:1,url:1,week:1},e={};n.forEach(function(l){if(e[l]=l,l.length>2){var n=l.replace(/[aeiou]+/g,"");n.length>1&&!e[n]&&(e[n]=l)}});var u={type:"CONTENT",make:function(){return"<!doctype html>"}};l.html5=new l.Generator({pretty:!0,indent:"	",toTag:function(l){return e[l]||l},directives:{doctype:u,dt:u},pseudos:{_default:{type:"ATTR",make:function(l){if("input"===this.parentElement.tag&&t.hasOwnProperty(l))return'type="'+l+'"';throw Error("Unknown Pseduo: "+l)}}}}),l.html5.HTML_SHORT_MAP=e,l.html5.INPUT_TYPES=t}(),l.angular=new l.Generator({pretty:!0,toTag:l.html5.config.toTag,directives:{doctype:l.html5.config.directives.doctype,dt:l.html5.config.directives.dt,_default:{type:"ATTR",make:function(l,n,t){return l=l.replace(/([a-z])([A-Z])/g,function(l,n,t){return n+"-"+t.toLowerCase()}),l="$"===l.substring(0,1)?l.substring(1):"ng-"+l,l+'="'+t+'"'}}},pseudos:{_default:{type:"ATTR",make:function(n){return"input"===this.parentElement.tag&&l.html5.INPUT_TYPES.hasOwnProperty(n)?'type="'+n+'"':"ng-"+n.replace(/([a-z])([A-Z])/g,function(l,n,t){return n+"-"+t.toLowerCase()})}}}}),l.PARSER=function(){function l(l){return'"'+l.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var n={parse:function(n,t){function e(l){var n={};for(var t in l)n[t]=l[t];return n}function u(l,t){for(var e=l.offset+t,u=l.offset;e>u;u++){var r=n.charAt(u);"\n"===r?(l.seenCR||l.line++,l.column=1,l.seenCR=!1):"\r"===r||"\u2028"===r||"\u2029"===r?(l.line++,l.column=1,l.seenCR=!0):(l.column++,l.seenCR=!1)}l.offset+=t}function r(l){Q.offset<X.offset||(Q.offset>X.offset&&(X=e(Q),ln=[]),ln.push(l))}function o(){var l,t,o,f,i,c,a,h;if(c=e(Q),a=e(Q),l=U(),null!==l)if(t=s(),t=null!==t?t:"",null!==t){for(o=[],h=e(Q),f=[],/^[\r\n\t ]/.test(n.charAt(Q.offset))?(i=n.charAt(Q.offset),u(Q,1)):(i=null,0===W&&r("[\\r\\n\\t ]"));null!==i;)f.push(i),/^[\r\n\t ]/.test(n.charAt(Q.offset))?(i=n.charAt(Q.offset),u(Q,1)):(i=null,0===W&&r("[\\r\\n\\t ]"));for(null!==f?(i=s(),null!==i?f=[f,i]:(f=null,Q=e(h))):(f=null,Q=e(h));null!==f;){for(o.push(f),h=e(Q),f=[],/^[\r\n\t ]/.test(n.charAt(Q.offset))?(i=n.charAt(Q.offset),u(Q,1)):(i=null,0===W&&r("[\\r\\n\\t ]"));null!==i;)f.push(i),/^[\r\n\t ]/.test(n.charAt(Q.offset))?(i=n.charAt(Q.offset),u(Q,1)):(i=null,0===W&&r("[\\r\\n\\t ]"));null!==f?(i=s(),null!==i?f=[f,i]:(f=null,Q=e(h))):(f=null,Q=e(h))}null!==o?(f=U(),null!==f?l=[l,t,o,f]:(l=null,Q=e(a))):(l=null,Q=e(a))}else l=null,Q=e(a);else l=null,Q=e(a);return null!==l&&(l=function(l,n,t,e,u){if(!e)return["IncGroup",[]];("Element"!==e[0]||u.length)&&(e=["IncGroup",[e]]);for(var r=0,o=u.length;o>r;++r)e[1].push(u[r][1]);return e}(c.offset,c.line,c.column,l[1],l[2])),null===l&&(Q=e(c)),l}function s(){var l,t,o,i,c,a,h,p;return a=e(Q),h=e(Q),l=f(),null!==l?(p=e(Q),t=U(),null!==t?(44===n.charCodeAt(Q.offset)?(o=",",u(Q,1)):(o=null,0===W&&r('","')),null!==o?(i=U(),null!==i?(c=s(),null!==c?t=[t,o,i,c]:(t=null,Q=e(p))):(t=null,Q=e(p))):(t=null,Q=e(p))):(t=null,Q=e(p)),t=null!==t?t:"",null!==t?l=[l,t]:(l=null,Q=e(h))):(l=null,Q=e(h)),null!==l&&(l=function(l,n,t,e,u){return u[3]?["IncGroup",[e,u[3]],"CommaGroup"]:e}(a.offset,a.line,a.column,l[0],l[1])),null===l&&(Q=e(a)),l}function f(){var l,t,s,h,p,m,A,g,v,_,y,b;if(_=e(Q),y=e(Q),l=a(),null!==l){for(b=e(Q),t=[],/^[> \t+]/.test(n.charAt(Q.offset))?(s=n.charAt(Q.offset),u(Q,1)):(s=null,0===W&&r("[> \\t+]"));null!==s;)t.push(s),/^[> \t+]/.test(n.charAt(Q.offset))?(s=n.charAt(Q.offset),u(Q,1)):(s=null,0===W&&r("[> \\t+]"));null!==t?(s=f(),null!==s?t=[t,s]:(t=null,Q=e(b))):(t=null,Q=e(b)),t=null!==t?t:"",null!==t?(s=U(),null!==s?(h=c(),h=null!==h?h:"",null!==h?l=[l,t,s,h]:(l=null,Q=e(y))):(l=null,Q=e(y))):(l=null,Q=e(y))}else l=null,Q=e(y);if(null!==l&&(l=function(l,n,t,e,u,r){var o=u[0]&&u[0].join(""),s=u[1];if(r){var f=r[1][0];s?"Element"===s[0]&&s[1][1].push(f):"Element"===e[0]&&e[1][1].push(f)}if(!u.length)return e;switch(e[0]){case"Element":return o.indexOf(",")>-1||o.indexOf("+")>-1?["IncGroup",[e,s]]:("Element"===e[0]?e[1][1].push(s):("IncGroup"===e[0]||"ExcGroup"===e[0])&&e[1].push(s),e);case"Prototype":case"Directive":case"Attribute":return["IncGroup",[e,s]]}return"ERROR"}(_.offset,_.line,_.column,l[0],l[1],l[3])),null===l&&(Q=e(_)),null===l){if(_=e(Q),y=e(Q),40===n.charCodeAt(Q.offset)?(l="(",u(Q,1)):(l=null,0===W&&r('"("')),null!==l)if(t=U(),null!==t)if(s=o(),null!==s){for(h=[],b=e(Q),p=U(),null!==p?(47===n.charCodeAt(Q.offset)?(m="/",u(Q,1)):(m=null,0===W&&r('"/"')),null!==m?(A=U(),null!==A?(g=o(),null!==g?p=[p,m,A,g]:(p=null,Q=e(b))):(p=null,Q=e(b))):(p=null,Q=e(b))):(p=null,Q=e(b));null!==p;)h.push(p),b=e(Q),p=U(),null!==p?(47===n.charCodeAt(Q.offset)?(m="/",u(Q,1)):(m=null,0===W&&r('"/"')),null!==m?(A=U(),null!==A?(g=o(),null!==g?p=[p,m,A,g]:(p=null,Q=e(b))):(p=null,Q=e(b))):(p=null,Q=e(b))):(p=null,Q=e(b));if(null!==h)if(p=U(),null!==p)if(41===n.charCodeAt(Q.offset)?(m=")",u(Q,1)):(m=null,0===W&&r('")"')),null!==m){for(A=[],g=d();null!==g;)A.push(g),g=d();null!==A?(g=U(),null!==g?(v=i(),v=null!==v?v:"",null!==v?l=[l,t,s,h,p,m,A,g,v]:(l=null,Q=e(y))):(l=null,Q=e(y))):(l=null,Q=e(y))}else l=null,Q=e(y);else l=null,Q=e(y);else l=null,Q=e(y)}else l=null,Q=e(y);else l=null,Q=e(y);else l=null,Q=e(y);null!==l&&(l=function(l,n,t,e,u,r,o){var s=[],f="";u.unshift([,,,e]),o&&("Declaration"===o[0]?o=o[1][0]:(f=o[1],o=o[0]));for(var i=0,c=u.length;c>i;++i)"CommaGroup"===u[i][3][2]&&(u[i][3][0]="ExcGroup",u[i][3][2]=[]),s.push(u[i][3]);return["ExcGroup",s,[o,r,f.indexOf("+")>-1?"sibling":"descendent"]]}(_.offset,_.line,_.column,l[2],l[3],l[6],l[8])),null===l&&(Q=e(_))}return l}function i(){var l,t,o,s;if(l=c(),null===l){for(o=e(Q),s=e(Q),l=[],/^[> \t+]/.test(n.charAt(Q.offset))?(t=n.charAt(Q.offset),u(Q,1)):(t=null,0===W&&r("[> \\t+]"));null!==t;)l.push(t),/^[> \t+]/.test(n.charAt(Q.offset))?(t=n.charAt(Q.offset),u(Q,1)):(t=null,0===W&&r("[> \\t+]"));null!==l?(t=f(),null!==t?l=[l,t]:(l=null,Q=e(s))):(l=null,Q=e(s)),null!==l&&(l=function(l,n,t,e,u){return[u,e]}(o.offset,o.line,o.column,l[0],l[1])),null===l&&(Q=e(o))}return l}function c(){var l,t,s,f,i;return f=e(Q),i=e(Q),123===n.charCodeAt(Q.offset)?(l="{",u(Q,1)):(l=null,0===W&&r('"{"')),null!==l?(t=o(),t=null!==t?t:"",null!==t?(125===n.charCodeAt(Q.offset)?(s="}",u(Q,1)):(s=null,0===W&&r('"}"')),null!==s?l=[l,t,s]:(l=null,Q=e(i))):(l=null,Q=e(i))):(l=null,Q=e(i)),null!==l&&(l=function(l,n,t,e){return["Declaration",[e]]}(f.offset,f.line,f.column,l[1])),null===l&&(Q=e(f)),l}function a(){var l;return l=T(),null===l&&(l=p(),null===l&&(l=h(),null===l&&(l=E(),null===l&&(l=C(),null===l&&(l=x()))))),l}function h(){var l,n;return n=e(Q),l=A(),null!==l&&(l=function(l,n,t,e){return["Element",[e,[]]]}(n.offset,n.line,n.column,l)),null===l&&(Q=e(n)),l}function p(){var l,t,o,s,f,i,c,a,h;if(a=e(Q),h=e(Q),l=m(),null!==l){for(t=[],/^[ \t]/.test(n.charAt(Q.offset))?(o=n.charAt(Q.offset),u(Q,1)):(o=null,0===W&&r("[ \\t]"));null!==o;)t.push(o),/^[ \t]/.test(n.charAt(Q.offset))?(o=n.charAt(Q.offset),u(Q,1)):(o=null,0===W&&r("[ \\t]"));if(null!==t)if(61===n.charCodeAt(Q.offset)?(o="=",u(Q,1)):(o=null,0===W&&r('"="')),null!==o){for(s=[],/^[ \t]/.test(n.charAt(Q.offset))?(f=n.charAt(Q.offset),u(Q,1)):(f=null,0===W&&r("[ \\t]"));null!==f;)s.push(f),/^[ \t]/.test(n.charAt(Q.offset))?(f=n.charAt(Q.offset),u(Q,1)):(f=null,0===W&&r("[ \\t]"));if(null!==s)if(f=A(),null!==f){for(i=[],/^[ \t]/.test(n.charAt(Q.offset))?(c=n.charAt(Q.offset),u(Q,1)):(c=null,0===W&&r("[ \\t]"));null!==c;)i.push(c),/^[ \t]/.test(n.charAt(Q.offset))?(c=n.charAt(Q.offset),u(Q,1)):(c=null,0===W&&r("[ \\t]"));null!==i?(59===n.charCodeAt(Q.offset)?(c=";",u(Q,1)):(c=null,0===W&&r('";"')),c=null!==c?c:"",null!==c?l=[l,t,o,s,f,i,c]:(l=null,Q=e(h))):(l=null,Q=e(h))}else l=null,Q=e(h);else l=null,Q=e(h)}else l=null,Q=e(h);else l=null,Q=e(h)}else l=null,Q=e(h);return null!==l&&(l=function(l,n,t,e,u){return["Prototype",[e,u]]}(a.offset,a.line,a.column,l[0],l[4])),null===l&&(Q=e(a)),l}function m(){var l,t,o,s,f;if(s=e(Q),f=e(Q),/^[a-zA-Z_$]/.test(n.charAt(Q.offset))?(l=n.charAt(Q.offset),u(Q,1)):(l=null,0===W&&r("[a-zA-Z_$]")),null!==l){for(t=[],/^[a-zA-Z0-9$_\-]/.test(n.charAt(Q.offset))?(o=n.charAt(Q.offset),u(Q,1)):(o=null,0===W&&r("[a-zA-Z0-9$_\\-]"));null!==o;)t.push(o),/^[a-zA-Z0-9$_\-]/.test(n.charAt(Q.offset))?(o=n.charAt(Q.offset),u(Q,1)):(o=null,0===W&&r("[a-zA-Z0-9$_\\-]"));null!==t?l=[l,t]:(l=null,Q=e(f))}else l=null,Q=e(f);return null!==l&&(l=function(l,n,t,e,u){return e+u.join("")}(s.offset,s.line,s.column,l[0],l[1])),null===l&&(Q=e(s)),l}function A(){var l,n,t,u,r;if(u=e(Q),r=e(Q),l=g(),null!==l){for(n=[],t=d();null!==t;)n.push(t),t=d();null!==n?l=[l,n]:(l=null,Q=e(r))}else l=null,Q=e(r);if(null!==l&&(l=function(l,n,t,e){return e[1].unshift(e[0]),e[1]}(u.offset,u.line,u.column,l)),null===l&&(Q=e(u)),null===l){if(u=e(Q),n=d(),null!==n)for(l=[];null!==n;)l.push(n),n=d();else l=null;null!==l&&(l=function(l,n,t,e){return e}(u.offset,u.line,u.column,l)),null===l&&(Q=e(u))}return l}function d(){var l;return l=v(),null===l&&(l=y(),null===l&&(l=_())),l}function g(){var l,t,o;if(o=e(Q),/^[a-z0-9_\-]/i.test(n.charAt(Q.offset))?(t=n.charAt(Q.offset),u(Q,1)):(t=null,0===W&&r("[a-z0-9_\\-]i")),null!==t)for(l=[];null!==t;)l.push(t),/^[a-z0-9_\-]/i.test(n.charAt(Q.offset))?(t=n.charAt(Q.offset),u(Q,1)):(t=null,0===W&&r("[a-z0-9_\\-]i"));else l=null;return null!==l&&(l=function(l,n,t,e){return["Tag",e.join("")]}(o.offset,o.line,o.column,l)),null===l&&(Q=e(o)),l}function v(){var l,t,o,s,f;if(s=e(Q),f=e(Q),/^[#.]/.test(n.charAt(Q.offset))?(l=n.charAt(Q.offset),u(Q,1)):(l=null,0===W&&r("[#.]")),null!==l){if(/^[a-z0-9\-_$]/i.test(n.charAt(Q.offset))?(o=n.charAt(Q.offset),u(Q,1)):(o=null,0===W&&r("[a-z0-9\\-_$]i")),null!==o)for(t=[];null!==o;)t.push(o),/^[a-z0-9\-_$]/i.test(n.charAt(Q.offset))?(o=n.charAt(Q.offset),u(Q,1)):(o=null,0===W&&r("[a-z0-9\\-_$]i"));else t=null;null!==t?l=[l,t]:(l=null,Q=e(f))}else l=null,Q=e(f);return null!==l&&(l=function(l,n,t,e,u){return["#"===e?"Id":"Class",u.join("")]}(s.offset,s.line,s.column,l[0],l[1])),null===l&&(Q=e(s)),l}function _(){var l,t,o,s,f,i,c;if(f=e(Q),i=e(Q),91===n.charCodeAt(Q.offset)?(l="[",u(Q,1)):(l=null,0===W&&r('"["')),null!==l){if(/^[^[\]=]/.test(n.charAt(Q.offset))?(o=n.charAt(Q.offset),u(Q,1)):(o=null,0===W&&r("[^[\\]=]")),null!==o)for(t=[];null!==o;)t.push(o),/^[^[\]=]/.test(n.charAt(Q.offset))?(o=n.charAt(Q.offset),u(Q,1)):(o=null,0===W&&r("[^[\\]=]"));else t=null;null!==t?(c=e(Q),61===n.charCodeAt(Q.offset)?(o="=",u(Q,1)):(o=null,0===W&&r('"="')),null!==o?(s=b(),null!==s?o=[o,s]:(o=null,Q=e(c))):(o=null,Q=e(c)),o=null!==o?o:"",null!==o?(93===n.charCodeAt(Q.offset)?(s="]",u(Q,1)):(s=null,0===W&&r('"]"')),null!==s?l=[l,t,o,s]:(l=null,Q=e(i))):(l=null,Q=e(i))):(l=null,Q=e(i))}else l=null,Q=e(i);return null!==l&&(l=function(l,n,t,e,u){return["Attr",[e.join(""),u.length?u[1]:null]]}(f.offset,f.line,f.column,l[1],l[2])),null===l&&(Q=e(f)),l}function y(){var l,t,o,s,f,i,c;if(f=e(Q),i=e(Q),58===n.charCodeAt(Q.offset)?(l=":",u(Q,1)):(l=null,0===W&&r('":"')),null!==l)if(c=e(Q),W++,t=R(),W--,null===t?t="":(t=null,Q=e(c)),null!==t){if(/^[a-z0-9\-_$]/i.test(n.charAt(Q.offset))?(s=n.charAt(Q.offset),u(Q,1)):(s=null,0===W&&r("[a-z0-9\\-_$]i")),null!==s)for(o=[];null!==s;)o.push(s),/^[a-z0-9\-_$]/i.test(n.charAt(Q.offset))?(s=n.charAt(Q.offset),u(Q,1)):(s=null,0===W&&r("[a-z0-9\\-_$]i"));else o=null;null!==o?(s=w(),s=null!==s?s:"",null!==s?l=[l,t,o,s]:(l=null,Q=e(i))):(l=null,Q=e(i))}else l=null,Q=e(i);else l=null,Q=e(i);return null!==l&&(l=function(l,n,t,e,u){return["Pseudo",[e.join(""),[u&&u.substr(1,u.length-2).replace(/[\s\r\n]+/g," ").replace(/^\s\s*|\s\s*$/g,"")]]]}(f.offset,f.line,f.column,l[2],l[3])),null===l&&(Q=e(f)),l}function b(){var l,t,o;if(o=e(Q),l=R(),null!==l&&(l=function(l,n,t,e){return e}(o.offset,o.line,o.column,l)),null===l&&(Q=e(o)),null===l){if(o=e(Q),/^[^[\]]/.test(n.charAt(Q.offset))?(t=n.charAt(Q.offset),u(Q,1)):(t=null,0===W&&r("[^[\\]]")),null!==t)for(l=[];null!==t;)l.push(t),/^[^[\]]/.test(n.charAt(Q.offset))?(t=n.charAt(Q.offset),u(Q,1)):(t=null,0===W&&r("[^[\\]]"));else l=null;null!==l&&(l=function(l,n,t,e){return e.join("")}(o.offset,o.line,o.column,l)),null===l&&(Q=e(o))}return l}function E(){var l,n;return n=e(Q),l=R(),null!==l&&(l=function(l,n,t,e){return["Directive",["_fillHTML",[V(e)],[]]]}(n.offset,n.line,n.column,l)),null===l&&(Q=e(n)),l}function C(){var l,n;return n=e(Q),l=P(),null!==l&&(l=function(l,n,t,e){return["Directive",["_fillHTML",[e],[]]]}(n.offset,n.line,n.column,l)),null===l&&(Q=e(n)),l}function T(){var l,t,o,s,f,i,c,a,h;return a=e(Q),h=e(Q),l=S(),null!==l?(t=U(),null!==t?(58===n.charCodeAt(Q.offset)?(o=":",u(Q,1)):(o=null,0===W&&r('":"')),null!==o?(s=U(),null!==s?(f=$(),null!==f?(i=U(),null!==i?(59===n.charCodeAt(Q.offset)?(c=";",u(Q,1)):(c=null,0===W&&r('";"')),null!==c?l=[l,t,o,s,f,i,c]:(l=null,Q=e(h))):(l=null,Q=e(h))):(l=null,Q=e(h))):(l=null,Q=e(h))):(l=null,Q=e(h))):(l=null,Q=e(h))):(l=null,Q=e(h)),null!==l&&(l=function(l,n,t,e,u){return["Attribute",[e,[u]]]}(a.offset,a.line,a.column,l[0],l[4])),null===l&&(Q=e(a)),null===l&&(a=e(Q),h=e(Q),l=S(),null!==l?(t=U(),null!==t?(58===n.charCodeAt(Q.offset)?(o=":",u(Q,1)):(o=null,0===W&&r('":"')),null!==o?(s=U(),null!==s?(f=R(),null!==f?l=[l,t,o,s,f]:(l=null,Q=e(h))):(l=null,Q=e(h))):(l=null,Q=e(h))):(l=null,Q=e(h))):(l=null,Q=e(h)),null!==l&&(l=function(l,n,t,e,u){return["Attribute",[e,[V(u)]]]}(a.offset,a.line,a.column,l[0],l[4])),null===l&&(Q=e(a)),null===l&&(a=e(Q),h=e(Q),l=S(),null!==l?(t=U(),null!==t?(58===n.charCodeAt(Q.offset)?(o=":",u(Q,1)):(o=null,0===W&&r('":"')),null!==o?(s=U(),null!==s?(f=P(),null!==f?l=[l,t,o,s,f]:(l=null,Q=e(h))):(l=null,Q=e(h))):(l=null,Q=e(h))):(l=null,Q=e(h))):(l=null,Q=e(h)),null!==l&&(l=function(l,n,t,e,u){return["Attribute",[e,[u]]]}(a.offset,a.line,a.column,l[0],l[4])),null===l&&(Q=e(a)),null===l&&(a=e(Q),h=e(Q),l=S(),null!==l?(t=U(),null!==t?(58===n.charCodeAt(Q.offset)?(o=":",u(Q,1)):(o=null,0===W&&r('":"')),null!==o?(/^[ \t]/.test(n.charAt(Q.offset))?(s=n.charAt(Q.offset),u(Q,1)):(s=null,0===W&&r("[ \\t]")),null!==s?(f=$(),null!==f?l=[l,t,o,s,f]:(l=null,Q=e(h))):(l=null,Q=e(h))):(l=null,Q=e(h))):(l=null,Q=e(h))):(l=null,Q=e(h)),null!==l&&(l=function(l,n,t,e,u){return["Attribute",[e,[u]]]}(a.offset,a.line,a.column,l[0],l[4])),null===l&&(Q=e(a))))),l}function S(){var l,t,o;if(W++,o=e(Q),/^[A-Za-z0-9\-_]/.test(n.charAt(Q.offset))?(t=n.charAt(Q.offset),u(Q,1)):(t=null,0===W&&r("[A-Za-z0-9\\-_]")),null!==t)for(l=[];null!==t;)l.push(t),/^[A-Za-z0-9\-_]/.test(n.charAt(Q.offset))?(t=n.charAt(Q.offset),u(Q,1)):(t=null,0===W&&r("[A-Za-z0-9\\-_]"));else l=null;return null!==l&&(l=function(l,n,t,e){return e.join("")}(o.offset,o.line,o.column,l)),null===l&&(Q=e(o)),null===l&&(l=R(),null===l&&(l=P())),W--,0===W&&null===l&&r("AttributeName"),l}function x(){var l,n,t,u,o;return W++,u=e(Q),o=e(Q),l=k(),null!==l?(n=G(),n=null!==n?n:"",null!==n?(t=I(),t=null!==t?t:"",null!==t?l=[l,n,t]:(l=null,Q=e(o))):(l=null,Q=e(o))):(l=null,Q=e(o)),null!==l&&(l=function(l,n,t,e,u,r){return["Directive",[e,u||[],r||[]]]}(u.offset,u.line,u.column,l[0],l[1],l[2])),null===l&&(Q=e(u)),W--,0===W&&null===l&&r("Directive"),l}function k(){var l,t,o,s,f,i;if(f=e(Q),i=e(Q),64===n.charCodeAt(Q.offset)?(l="@",u(Q,1)):(l=null,0===W&&r('"@"')),null!==l)if(/^[a-zA-Z_$]/.test(n.charAt(Q.offset))?(t=n.charAt(Q.offset),u(Q,1)):(t=null,0===W&&r("[a-zA-Z_$]")),null!==t){for(o=[],/^[a-zA-Z0-9$_]/.test(n.charAt(Q.offset))?(s=n.charAt(Q.offset),u(Q,1)):(s=null,0===W&&r("[a-zA-Z0-9$_]"));null!==s;)o.push(s),/^[a-zA-Z0-9$_]/.test(n.charAt(Q.offset))?(s=n.charAt(Q.offset),u(Q,1)):(s=null,0===W&&r("[a-zA-Z0-9$_]"));null!==o?l=[l,t,o]:(l=null,Q=e(i))}else l=null,Q=e(i);else l=null,Q=e(i);return null!==l&&(l=function(l,n,t,e,u){return e+u.join("")}(f.offset,f.line,f.column,l[1],l[2])),null===l&&(Q=e(f)),l}function G(){var l,t,o,s,f;return s=e(Q),f=e(Q),40===n.charCodeAt(Q.offset)?(l="(",u(Q,1)):(l=null,0===W&&r('"("')),null!==l?(t=O(),t=null!==t?t:"",null!==t?(41===n.charCodeAt(Q.offset)?(o=")",u(Q,1)):(o=null,0===W&&r('")"')),null!==o?l=[l,t,o]:(l=null,Q=e(f))):(l=null,Q=e(f))):(l=null,Q=e(f)),null!==l&&(l=function(l,n,t,e){return e}(s.offset,s.line,s.column,l[1])),null===l&&(Q=e(s)),null===l&&(s=e(Q),l=w(),null!==l&&(l=function(l,n,t,e){return[e.substr(1,e.length-2).replace(/[\s\r\n]+/g," ").replace(/^\s\s*|\s\s*$/g,"")]}(s.offset,s.line,s.column,l)),null===l&&(Q=e(s))),l}function I(){var l,t,s,i,c,a;if(c=e(Q),59===n.charCodeAt(Q.offset)?(l=";",u(Q,1)):(l=null,0===W&&r('";"')),null!==l&&(l=function(){return[]}(c.offset,c.line,c.column)),null===l&&(Q=e(c)),null===l&&(c=e(Q),a=e(Q),l=U(),null!==l?(123===n.charCodeAt(Q.offset)?(t="{",u(Q,1)):(t=null,0===W&&r('"{"')),null!==t?(s=o(),s=null!==s?s:"",null!==s?(125===n.charCodeAt(Q.offset)?(i="}",u(Q,1)):(i=null,0===W&&r('"}"')),null!==i?l=[l,t,s,i]:(l=null,Q=e(a))):(l=null,Q=e(a))):(l=null,Q=e(a))):(l=null,Q=e(a)),null!==l&&(l=function(l,n,t,e){return[e]}(c.offset,c.line,c.column,l[2])),null===l&&(Q=e(c)),null===l)){for(c=e(Q),a=e(Q),l=[],/^[> \t]/.test(n.charAt(Q.offset))?(t=n.charAt(Q.offset),u(Q,1)):(t=null,0===W&&r("[> \\t]"));null!==t;)l.push(t),/^[> \t]/.test(n.charAt(Q.offset))?(t=n.charAt(Q.offset),u(Q,1)):(t=null,0===W&&r("[> \\t]"));null!==l?(t=f(),null!==t?l=[l,t]:(l=null,Q=e(a))):(l=null,Q=e(a)),null!==l&&(l=function(l,n,t,e){return[e]}(c.offset,c.line,c.column,l[1])),null===l&&(Q=e(c))}return l}function w(){var l,t,o,s,f;if(s=e(Q),f=e(Q),40===n.charCodeAt(Q.offset)?(l="(",u(Q,1)):(l=null,0===W&&r('"("')),null!==l){for(t=[],o=w(),null===o&&(o=N());null!==o;)t.push(o),o=w(),null===o&&(o=N());null!==t?(41===n.charCodeAt(Q.offset)?(o=")",u(Q,1)):(o=null,0===W&&r('")"')),null!==o?l=[l,t,o]:(l=null,Q=e(f))):(l=null,Q=e(f))}else l=null,Q=e(f);return null!==l&&(l=function(l,n,t,e){return"("+e.join("")+")"}(s.offset,s.line,s.column,l[1])),null===l&&(Q=e(s)),l}function z(){var l,n,t;if(t=e(Q),n=N(),null!==n)for(l=[];null!==n;)l.push(n),n=N();else l=null;return null!==l&&(l=function(l,n,t,e){return e.join("")}(t.offset,t.line,t.column,l)),null===l&&(Q=e(t)),l}function N(){var l;return/^[^()]/.test(n.charAt(Q.offset))?(l=n.charAt(Q.offset),u(Q,1)):(l=null,0===W&&r("[^()]")),l}function O(){var l,t,o,s,f,i,c,a;if(i=e(Q),c=e(Q),l=$(),null!==l){for(t=[],a=e(Q),44===n.charCodeAt(Q.offset)?(o=",",u(Q,1)):(o=null,0===W&&r('","')),null!==o?(s=U(),null!==s?(f=$(),null!==f?o=[o,s,f]:(o=null,Q=e(a))):(o=null,Q=e(a))):(o=null,Q=e(a));null!==o;)t.push(o),a=e(Q),44===n.charCodeAt(Q.offset)?(o=",",u(Q,1)):(o=null,0===W&&r('","')),null!==o?(s=U(),null!==s?(f=$(),null!==f?o=[o,s,f]:(o=null,Q=e(a))):(o=null,Q=e(a))):(o=null,Q=e(a));null!==t?l=[l,t]:(l=null,Q=e(c))}else l=null,Q=e(c);return null!==l&&(l=function(l,n,t,e,u){for(var r=[e],o=0;u.length>o;o++)r.push(u[o][2]);return r}(i.offset,i.line,i.column,l[0],l[1])),null===l&&(Q=e(i)),l}function $(){var l,t,o,s;return o=e(Q),l=R(),null!==l&&(l=function(l,n,t,e){return V(e)}(o.offset,o.line,o.column,l)),null===l&&(Q=e(o)),null===l&&(l=j(),null===l&&(l=P(),null===l&&(l=Z(),null===l&&(o=e(Q),s=e(Q),"true"===n.substr(Q.offset,4)?(l="true",u(Q,4)):(l=null,0===W&&r('"true"')),null!==l?(t=U(),null!==t?l=[l,t]:(l=null,Q=e(s))):(l=null,Q=e(s)),null!==l&&(l=function(){return!0}(o.offset,o.line,o.column)),null===l&&(Q=e(o)),null===l&&(o=e(Q),s=e(Q),"false"===n.substr(Q.offset,5)?(l="false",u(Q,5)):(l=null,0===W&&r('"false"')),null!==l?(t=U(),null!==t?l=[l,t]:(l=null,Q=e(s))):(l=null,Q=e(s)),null!==l&&(l=function(){return!1}(o.offset,o.line,o.column)),null===l&&(Q=e(o))))))),l}function R(){var l,t,o,s,f;if(W++,s=e(Q),f=e(Q),"%%__STRING_TOKEN___%%"===n.substr(Q.offset,21)?(l="%%__STRING_TOKEN___%%",u(Q,21)):(l=null,0===W&&r('"%%__STRING_TOKEN___%%"')),null!==l){if(/^[0-9]/.test(n.charAt(Q.offset))?(o=n.charAt(Q.offset),u(Q,1)):(o=null,0===W&&r("[0-9]")),null!==o)for(t=[];null!==o;)t.push(o),/^[0-9]/.test(n.charAt(Q.offset))?(o=n.charAt(Q.offset),u(Q,1)):(o=null,0===W&&r("[0-9]"));else t=null;null!==t?l=[l,t]:(l=null,Q=e(f))}else l=null,Q=e(f);return null!==l&&(l=function(l,n,t,e){return nn[e.join("")][1].replace(/%%__HTML_TOKEN___%%(\d+)/g,function(l,n){var t=nn[n];return t[0]+t[1]+t[0]})}(s.offset,s.line,s.column,l[1])),null===l&&(Q=e(s)),W--,0===W&&null===l&&r("String"),l}function P(){var l,t,o,s,f;if(W++,s=e(Q),f=e(Q),"%%__HTML_TOKEN___%%"===n.substr(Q.offset,19)?(l="%%__HTML_TOKEN___%%",u(Q,19)):(l=null,0===W&&r('"%%__HTML_TOKEN___%%"')),null!==l){if(/^[0-9]/.test(n.charAt(Q.offset))?(o=n.charAt(Q.offset),u(Q,1)):(o=null,0===W&&r("[0-9]")),null!==o)for(t=[];null!==o;)t.push(o),/^[0-9]/.test(n.charAt(Q.offset))?(o=n.charAt(Q.offset),u(Q,1)):(o=null,0===W&&r("[0-9]"));else t=null;null!==t?l=[l,t]:(l=null,Q=e(f))}else l=null,Q=e(f);return null!==l&&(l=function(l,n,t,e){return nn[e.join("")][1]}(s.offset,s.line,s.column,l[1])),null===l&&(Q=e(s)),W--,0===W&&null===l&&r("HTML"),l}function j(){var l,t,o;if(W++,o=e(Q),/^[a-zA-Z0-9$@#]/.test(n.charAt(Q.offset))?(t=n.charAt(Q.offset),u(Q,1)):(t=null,0===W&&r("[a-zA-Z0-9$@#]")),null!==t)for(l=[];null!==t;)l.push(t),/^[a-zA-Z0-9$@#]/.test(n.charAt(Q.offset))?(t=n.charAt(Q.offset),u(Q,1)):(t=null,0===W&&r("[a-zA-Z0-9$@#]"));else l=null;return null!==l&&(l=function(l,n,t,e){return e.join("")}(o.offset,o.line,o.column,l)),null===l&&(Q=e(o)),W--,0===W&&null===l&&r("SimpleString"),l}function Z(){var l,n,t,u,o,s;return W++,o=e(Q),s=e(Q),l=M(),null!==l?(n=L(),null!==n?(t=D(),null!==t?(u=U(),null!==u?l=[l,n,t,u]:(l=null,Q=e(s))):(l=null,Q=e(s))):(l=null,Q=e(s))):(l=null,Q=e(s)),null!==l&&(l=function(l,n,t,e,u,r){return parseFloat(e+u+r)}(o.offset,o.line,o.column,l[0],l[1],l[2])),null===l&&(Q=e(o)),null===l&&(o=e(Q),s=e(Q),l=M(),null!==l?(n=L(),null!==n?(t=U(),null!==t?l=[l,n,t]:(l=null,Q=e(s))):(l=null,Q=e(s))):(l=null,Q=e(s)),null!==l&&(l=function(l,n,t,e,u){return parseFloat(e+u)}(o.offset,o.line,o.column,l[0],l[1])),null===l&&(Q=e(o)),null===l&&(o=e(Q),s=e(Q),l=M(),null!==l?(n=D(),null!==n?(t=U(),null!==t?l=[l,n,t]:(l=null,Q=e(s))):(l=null,Q=e(s))):(l=null,Q=e(s)),null!==l&&(l=function(l,n,t,e,u){return parseFloat(e+u)}(o.offset,o.line,o.column,l[0],l[1])),null===l&&(Q=e(o)),null===l&&(o=e(Q),s=e(Q),l=M(),null!==l?(n=U(),null!==n?l=[l,n]:(l=null,Q=e(s))):(l=null,Q=e(s)),null!==l&&(l=function(l,n,t,e){return parseFloat(e)}(o.offset,o.line,o.column,l[0])),null===l&&(Q=e(o))))),W--,0===W&&null===l&&r("number"),l}function M(){var l,t,o,s,f;return s=e(Q),f=e(Q),l=B(),null!==l?(t=H(),null!==t?l=[l,t]:(l=null,Q=e(f))):(l=null,Q=e(f)),null!==l&&(l=function(l,n,t,e,u){return e+u}(s.offset,s.line,s.column,l[0],l[1])),null===l&&(Q=e(s)),null===l&&(l=K(),null===l&&(s=e(Q),f=e(Q),45===n.charCodeAt(Q.offset)?(l="-",u(Q,1)):(l=null,0===W&&r('"-"')),null!==l?(t=B(),null!==t?(o=H(),null!==o?l=[l,t,o]:(l=null,Q=e(f))):(l=null,Q=e(f))):(l=null,Q=e(f)),null!==l&&(l=function(l,n,t,e,u){return"-"+e+u}(s.offset,s.line,s.column,l[1],l[2])),null===l&&(Q=e(s)),null===l&&(s=e(Q),f=e(Q),45===n.charCodeAt(Q.offset)?(l="-",u(Q,1)):(l=null,0===W&&r('"-"')),null!==l?(t=K(),null!==t?l=[l,t]:(l=null,Q=e(f))):(l=null,Q=e(f)),null!==l&&(l=function(l,n,t,e){return"-"+e}(s.offset,s.line,s.column,l[1])),null===l&&(Q=e(s))))),l}function L(){var l,t,o,s;return o=e(Q),s=e(Q),46===n.charCodeAt(Q.offset)?(l=".",u(Q,1)):(l=null,0===W&&r('"."')),null!==l?(t=H(),null!==t?l=[l,t]:(l=null,Q=e(s))):(l=null,Q=e(s)),null!==l&&(l=function(l,n,t,e){return"."+e}(o.offset,o.line,o.column,l[1])),null===l&&(Q=e(o)),l}function D(){var l,n,t,u;return t=e(Q),u=e(Q),l=F(),null!==l?(n=H(),null!==n?l=[l,n]:(l=null,Q=e(u))):(l=null,Q=e(u)),null!==l&&(l=function(l,n,t,e,u){return e+u}(t.offset,t.line,t.column,l[0],l[1])),null===l&&(Q=e(t)),l}function H(){var l,n,t;if(t=e(Q),n=K(),null!==n)for(l=[];null!==n;)l.push(n),n=K();else l=null;return null!==l&&(l=function(l,n,t,e){return e.join("")}(t.offset,t.line,t.column,l)),null===l&&(Q=e(t)),l}function F(){var l,t,o,s;return o=e(Q),s=e(Q),/^[eE]/.test(n.charAt(Q.offset))?(l=n.charAt(Q.offset),u(Q,1)):(l=null,0===W&&r("[eE]")),null!==l?(/^[+\-]/.test(n.charAt(Q.offset))?(t=n.charAt(Q.offset),u(Q,1)):(t=null,0===W&&r("[+\\-]")),t=null!==t?t:"",null!==t?l=[l,t]:(l=null,Q=e(s))):(l=null,Q=e(s)),null!==l&&(l=function(l,n,t,e,u){return e+u}(o.offset,o.line,o.column,l[0],l[1])),null===l&&(Q=e(o)),l
}function K(){var l;return/^[0-9]/.test(n.charAt(Q.offset))?(l=n.charAt(Q.offset),u(Q,1)):(l=null,0===W&&r("[0-9]")),l}function B(){var l;return/^[1-9]/.test(n.charAt(Q.offset))?(l=n.charAt(Q.offset),u(Q,1)):(l=null,0===W&&r("[1-9]")),l}function q(){var l;return/^[0-9a-fA-F]/.test(n.charAt(Q.offset))?(l=n.charAt(Q.offset),u(Q,1)):(l=null,0===W&&r("[0-9a-fA-F]")),l}function U(){var l,t;for(W++,l=[],/^[ \t\n\r]/.test(n.charAt(Q.offset))?(t=n.charAt(Q.offset),u(Q,1)):(t=null,0===W&&r("[ \\t\\n\\r]"));null!==t;)l.push(t),/^[ \t\n\r]/.test(n.charAt(Q.offset))?(t=n.charAt(Q.offset),u(Q,1)):(t=null,0===W&&r("[ \\t\\n\\r]"));return W--,0===W&&null===l&&r("whitespace"),l}function Y(l){l.sort();for(var n=null,t=[],e=0;l.length>e;e++)l[e]!==n&&(t.push(l[e]),n=l[e]);return t}function V(l){return(l+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;")}var J={MSeries:o,CSeries:s,LSeries:f,ExcGroupRHS:i,ChildrenDeclaration:c,Single:a,Element:h,PrototypeDefinition:p,PrototypeName:m,SingleSelector:A,selectorRepeatableComponent:d,selectorTag:g,selectorIdClass:v,selectorAttr:_,selectorPseudo:y,selectorAttrValue:b,Text:E,HTML:C,Attribute:T,attributeName:S,Directive:x,DirectiveName:k,DirectiveArguments:G,DirectiveChildren:I,braced:w,nonBraceCharacters:z,nonBraceCharacter:N,arrayElements:O,value:$,string:R,html:P,simpleString:j,number:Z,"int":M,frac:L,exp:D,digits:H,e:F,digit:K,digit19:B,hexDigit:q,_:U};if(void 0!==t){if(void 0===J[t])throw Error("Invalid rule name: "+l(t)+".")}else t="MSeries";var Q={offset:0,line:1,column:1,seenCR:!1},W=0,X={offset:0,line:1,column:1,seenCR:!1},ln=[];({}).toString;var nn=[];n=n.replace(/(`+)((?:\\\1|[^\1])*?)\1/g,function(l,n,t){return"%%__HTML_TOKEN___%%"+(nn.push([n,t.replace(/\\`/g,"`")])-1)}),n=n.replace(/(["'])((?:\\\1|[^\1])*?)\1/g,function(l,n,t){return"%%__STRING_TOKEN___%%"+(nn.push([n,t.replace(/\\'/g,"'").replace(/\\"/g,'"')])-1)}),n=n.replace(/(^|\n)\s*\\([^\n\r]+)/g,function(l,n,t){return n+"%%__STRING_TOKEN___%%"+(nn.push([n,t])-1)});var tn=/\/\*\s*siml:curly=true\s*\*\//i.test(n);n=n.replace(/\/\*[\s\S]*?\*\//g,""),n=n.replace(/\/\/.+?(?=[\r\n])/g,""),function(){if(!tn){n=n.replace(/^(?:\s*\n)+/g,"");var l,t=0,e=[],u={},r=null,o=0,s=0;n=n.split(/[\r\n]+/);for(var f=0,i=n.length;i>f;++f){var c=n[f],a=c.match(/^\s*/)[0],h=(a.match(/\s/g)||[]).length,p=((n[f+1]||"").match(/^\s*/)[0].match(/\s/g)||[]).length;if(null==r&&p!==h&&(r=p-h),o+=(c.match(/\(/g)||[]).length-(c.match(/\)/g)||[]).length,s+=(c.match(/\{/g)||[]).length-(c.match(/\}/g)||[]).length,/^\s*$/.test(c))e.push(c);else{if(l>h)for(var m=l-h;;){if(m-=r,0===t||0>m)break;u[f-1]||(t--,e[f-1]+="}")}s||o?(u[f]=1,e.push(c)):(c=c.substring(a.length),/[{}]\s*$/.test(c)?e.push(c):(p>h?(t++,e.push(a+c+"{")):e.push(a+c),l=h))}}n=e.join("\n"),n+=Array(t+1).join("}")}}();var en=J[t]();if(null===en||Q.offset!==n.length){var un=Math.max(Q.offset,X.offset),rn=n.length>un?n.charAt(un):null,on=Q.offset>X.offset?Q:X;throw new this.SyntaxError(Y(ln),rn,un,on.line,on.column)}return en},toSource:function(){return this._source}};return n.SyntaxError=function(n,t,e,u,r){function o(n,t){var e,u;switch(n.length){case 0:e="end of input";break;case 1:e=n[0];break;default:e=n.slice(0,n.length-1).join(", ")+" or "+n[n.length-1]}return u=t?l(t):"end of input","Expected "+e+" but "+u+" found."}this.name="SyntaxError",this.expected=n,this.found=t,this.message=o(n,t),this.offset=e,this.line=u,this.column=r},n.SyntaxError.prototype=Error.prototype,n}()})();